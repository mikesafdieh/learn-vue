<!-- Essentials 2 - The Vue Instance -->
<!DOCTYPE html>
<html>
<head>
  <!-- development version, includes helpful console warnings -->
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>

	<!-- Creating a Vue Instance -->

	<script type="text/javascript">
		var vm = new Vue({
		  // options
		})

		// example todo app’s component tree:
		// Root Instance
		// └─ TodoList
		//    ├─ TodoItem
		//    │  ├─ DeleteTodoButton
		//    │  └─ EditTodoButton
		//    └─ TodoListFooter
		//       ├─ ClearTodosButton
		//       └─ TodoListStatistics

	</script>

	<!-- Data and Methods -->

	<script type="text/javascript">
		// Our data object
		var data = { a: 1 }

		// The object is added to a Vue instance
		var vm = new Vue({
			data: data
		})

		// Getting the property on the instance
		// returns the one from the original data
		vm.a == data.a // => true

		// Setting the property on the instance
		// also affects the original data
		vm.a = 2
		data.a // => 2

		// ... and vice-versa
		data.a = 3
		vm.a // => 3

		// changes to b will not trigger any updates since it's not 
		// part of vm's data
		vm.b = 'hi'

		// use default/initial values when we need a property later
		// data: {
		//   newTodoText: '',
		//   visitCount: 0,
		//   hideCompletedTodos: false,
		//   todos: [],
		//   error: null
		// }

	</script>

	<div id="app">
	  <p>{{ foo }}</p>
	  <!-- this will no longer update `foo`! -->
	  <button v-on:click="foo = 'baz'">Change it</button>

	  <!-- I added this -->
	  <br>
	  <button @click=testArrowContext>arrow context</button>
	  <br>
	  <button @click=testNonArrowContext>non arrow context</button>
	</div>
	<script type="text/javascript">
		var obj = {
		  foo: 'bar'
		}

		// Object.freeze(obj)

		var test = new Vue({
		  el: '#app',
		  data: obj,

		  // I added this
		  methods: {
		  	// this refers to window
		  	testArrowContext: () => console.log(this),
		  	// here this refers to the Vue instance
		  	testNonArrowContext: function() {
		  		console.log(this)
		  	},
		  },

		})
	</script>

	<script type="text/javascript">
		// $ instance properties and methods

		var data = { a: 1 }
		var vm = new Vue({
		  el: '#example',
		  data: data
		})

		vm.$data === data // => true
		vm.$el === document.getElementById('example') // => true

		// $watch is an instance method
		vm.$watch('a', function (newValue, oldValue) {
		  // This callback will be called when `vm.a` changes
		})
	</script>

	<!-- Instance Lifecycle Hooks -->

	<script type="text/javascript">
		new Vue({
		  data: {
		    a: 1
		  },
		  created: function () {
		    // `this` points to the vm instance
		    console.log('a is: ' + this.a)
		  }
		})
		// => "a is: 1"

		// All lifecycle hooks are called with their `this` context pointing to 
		// the Vue instance invoking it.
	</script>



</body>